/* ==========================================================================
   AZ — Dashboard ADMIN (admin/css/dashboard/admin.css)
   Thème AZ NEBULA compatible (dark/light via html[data-theme])
   - Hero / KPI / Panels / Tabs / Lists / Chart
   ========================================================================== */

:root{
  --azad-radius-xl: 26px;
  --azad-radius-lg: 20px;
  --azad-radius-md: 16px;
  --azad-radius-sm: 12px;

  --azad-transition: 220ms cubic-bezier(.2,.8,.2,1);
  --azad-shadow: 0 20px 60px rgba(0,0,0,.20);

  /* Accents (AZ) */
  --azad-a: #6366f1; /* indigo */
  --azad-b: #22c55e; /* green */
  --azad-c: #06b6d4; /* cyan */
  --azad-d: #f59e0b; /* amber */
  --azad-e: #a855f7; /* violet */
  --azad-f: #ec4899; /* pink */

  --azad-grad: linear-gradient(135deg, #6366f1, #ec4899);
  --azad-glow: 0 0 0 4px rgba(168,85,247,.18), 0 0 30px rgba(168,85,247,.22);
}

/* =========================
   THEME TOKENS
   ========================= */
html[data-theme="dark"]{
  color-scheme: dark;
  --azad-bg: #070b14;
  --azad-surface: rgba(255,255,255,.04);
  --azad-surface-2: rgba(255,255,255,.06);
  --azad-card: rgba(255,255,255,.05);
  --azad-card-2: rgba(255,255,255,.035);
  --azad-border: rgba(255,255,255,.08);
  --azad-border-2: rgba(255,255,255,.12);

  --azad-text: #e5e7eb;
  --azad-muted: rgba(229,231,235,.70);
  --azad-muted-2: rgba(229,231,235,.50);

  --azad-grid: rgba(255,255,255,.10);
  --azad-chip: rgba(255,255,255,.06);

  --azad-ok: #22c55e;
  --azad-bad: #ef4444;
  --azad-warn: #f59e0b;
}

html[data-theme="light"]{
  color-scheme: light;
  --azad-bg: #f6f7fb;
  --azad-surface: rgba(15,23,42,.04);
  --azad-surface-2: rgba(15,23,42,.06);
  --azad-card: rgba(255,255,255,.92);
  --azad-card-2: rgba(255,255,255,.86);
  --azad-border: rgba(15,23,42,.10);
  --azad-border-2: rgba(15,23,42,.14);

  --azad-text: #0f172a;
  --azad-muted: rgba(15,23,42,.70);
  --azad-muted-2: rgba(15,23,42,.52);

  --azad-grid: rgba(15,23,42,.10);
  --azad-chip: rgba(255,255,255,.85);

  --azad-ok: #16a34a;
  --azad-bad: #dc2626;
  --azad-warn: #d97706;
}

/* =========================
   WRAPPER
   ========================= */
.azad{
  width: 100%;
  max-width: 1280px;
  margin: 0 auto;
  padding: 10px 8px 22px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.azad *{ box-sizing: border-box; }
.azad a{ color: inherit; text-decoration: none; }
.azad button{ font-family: inherit; }

/* =========================
   HERO
   ========================= */
.azad-hero{
  position: relative;
  overflow: hidden;
  border-radius: var(--azad-radius-xl);
  border: 1px solid var(--azad-border);
  background:
    radial-gradient(900px 420px at 8% 20%, rgba(99,102,241,.22), transparent 55%),
    radial-gradient(700px 360px at 88% 18%, rgba(236,72,153,.18), transparent 60%),
    linear-gradient(180deg, var(--azad-card), var(--azad-card-2));
  box-shadow: var(--azad-shadow);
  padding: 18px;
  display: grid;
  grid-template-columns: 1.3fr .7fr;
  gap: 16px;
  isolation: isolate;
}

.azad-hero-glow{
  position: absolute;
  inset: -2px;
  pointer-events: none;
  background:
    radial-gradient(420px 220px at 20% 10%, rgba(168,85,247,.16), transparent 60%),
    radial-gradient(520px 260px at 80% 20%, rgba(99,102,241,.14), transparent 62%);
  filter: blur(0px);
  z-index: -1;
}

.azad-hero-left{ display:flex; flex-direction:column; gap: 10px; }

.azad-pill{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 9px 12px;
  border-radius: 999px;
  border: 1px solid var(--azad-border);
  background: var(--azad-chip);
  color: var(--azad-muted);
  font-weight: 700;
  font-size: 12px;
  letter-spacing: .2px;
  width: fit-content;
}

.azad-pill i{ color: rgba(168,85,247,.95); }
.azad-pill-sep{ opacity: .65; }

.azad-title{
  margin: 0;
  font-size: clamp(20px, 2.2vw, 30px);
  line-height: 1.12;
  letter-spacing: -0.3px;
  color: var(--azad-text);
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

.azad-title i{
  width: 38px; height: 38px;
  display: grid;
  place-items: center;
  border-radius: 12px;
  border: 1px solid var(--azad-border);
  background: linear-gradient(135deg, rgba(99,102,241,.22), rgba(236,72,153,.18));
  box-shadow: 0 10px 25px rgba(0,0,0,.18);
}

.azad-subtitle{
  margin: 0;
  color: var(--azad-muted);
  font-size: 13px;
  max-width: 64ch;
}

.azad-hero-right{
  display:flex;
  flex-direction:column;
  justify-content: space-between;
  gap: 12px;
  align-items: flex-end;
}

.azad-date{
  display:inline-flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  color: var(--azad-muted);
  font-weight: 800;
  font-size: 12px;
}

.azad-actions{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: flex-end;
}

/* =========================
   BUTTONS
   ========================= */
.azad-btn{
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  color: var(--azad-text);
  padding: 10px 12px;
  border-radius: 14px;
  font-weight: 800;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: transform var(--azad-transition), background var(--azad-transition), border-color var(--azad-transition), box-shadow var(--azad-transition);
  user-select: none;
  white-space: nowrap;
}

.azad-btn i{ opacity: .95; }

.azad-btn:hover{
  transform: translateY(-1px);
  background: var(--azad-surface-2);
  border-color: var(--azad-border-2);
}

.azad-btn:focus-visible{
  outline: none;
  box-shadow: var(--azad-glow);
}

.azad-btn-primary{
  border: 0;
  background: var(--azad-grad);
  color: #fff;
  box-shadow: 0 14px 40px rgba(99,102,241,.22);
}
.azad-btn-primary:hover{ transform: translateY(-1px); }

.azad-btn-soft{
  background: linear-gradient(180deg, var(--azad-surface), var(--azad-card-2));
}

.azad-btn-ghost{
  width: 42px;
  height: 42px;
  padding: 0;
  justify-content: center;
  border-radius: 14px;
}

/* =========================
   KPI GRID
   ========================= */
.azad-kpi-grid{
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 12px;
}

.azad-kpi{
  grid-column: span 4;
  border-radius: var(--azad-radius-lg);
  border: 1px solid var(--azad-border);
  background: linear-gradient(180deg, var(--azad-card), var(--azad-card-2));
  padding: 14px;
  display:flex;
  gap: 12px;
  align-items: center;
  box-shadow: 0 18px 50px rgba(0,0,0,.14);
  min-height: 92px;
  transition: transform var(--azad-transition), border-color var(--azad-transition), background var(--azad-transition);
}

.azad-kpi:hover{
  transform: translateY(-2px);
  border-color: var(--azad-border-2);
  background: linear-gradient(180deg, var(--azad-card), var(--azad-surface));
}

.azad-kpi-ic{
  width: 44px;
  height: 44px;
  border-radius: 16px;
  display: grid;
  place-items: center;
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  box-shadow: 0 14px 38px rgba(0,0,0,.18);
  flex: 0 0 auto;
}

.azad-ic-grad.a{ background: linear-gradient(135deg, rgba(99,102,241,.28), rgba(168,85,247,.16)); }
.azad-ic-grad.b{ background: linear-gradient(135deg, rgba(34,197,94,.20), rgba(99,102,241,.12)); }
.azad-ic-grad.c{ background: linear-gradient(135deg, rgba(6,182,212,.22), rgba(99,102,241,.12)); }
.azad-ic-grad.d{ background: linear-gradient(135deg, rgba(245,158,11,.24), rgba(236,72,153,.10)); }
.azad-ic-grad.e{ background: linear-gradient(135deg, rgba(168,85,247,.22), rgba(99,102,241,.12)); }
.azad-ic-grad.f{ background: linear-gradient(135deg, rgba(236,72,153,.22), rgba(99,102,241,.12)); }

.azad-kpi-meta{ display:flex; flex-direction:column; gap: 4px; min-width: 0; }

.azad-kpi-val{
  font-size: 22px;
  font-weight: 900;
  letter-spacing: -0.4px;
  color: var(--azad-text);
  line-height: 1.05;
}
.azad-kpi-unit{ font-size: 12px; opacity: .8; font-weight: 900; }

.azad-kpi-label{
  font-size: 12px;
  font-weight: 800;
  color: var(--azad-muted);
}

.azad-kpi-trend{
  display:flex;
  align-items: center;
  gap: 8px;
  margin-top: 2px;
  flex-wrap: wrap;
}

.azad-tr{
  font-size: 12px;
  font-weight: 900;
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
}

.azad-tr-sub{
  font-size: 11px;
  font-weight: 800;
  color: var(--azad-muted-2);
}

.azad-tr.up{ color: var(--azad-ok); }
.azad-tr.down{ color: var(--azad-bad); }
.azad-tr.flat{ color: var(--azad-muted); }
.azad-tr.warn{ color: var(--azad-warn); }

.azad-kpi-warn{
  border-color: rgba(245,158,11,.35);
  background:
    radial-gradient(420px 160px at 18% 20%, rgba(245,158,11,.16), transparent 55%),
    linear-gradient(180deg, var(--azad-card), var(--azad-card-2));
}

.azad-kpi-soft{
  background:
    radial-gradient(460px 180px at 18% 20%, rgba(168,85,247,.14), transparent 55%),
    linear-gradient(180deg, var(--azad-card), var(--azad-card-2));
}

/* =========================
   PANELS
   ========================= */
.azad-panels{
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 12px;
}

.azad-card{
  grid-column: span 6;
  border-radius: var(--azad-radius-xl);
  border: 1px solid var(--azad-border);
  background: linear-gradient(180deg, var(--azad-card), var(--azad-card-2));
  box-shadow: 0 18px 50px rgba(0,0,0,.14);
  overflow: hidden;
}

.azad-card-head{
  padding: 14px 14px 10px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  border-bottom: 1px solid var(--azad-border);
}

.azad-card-head h3{
  margin: 0;
  font-size: 14px;
  font-weight: 900;
  letter-spacing: -0.2px;
  color: var(--azad-text);
  display:flex;
  align-items:center;
  gap: 10px;
}

.azad-card-head h3 i{ color: rgba(168,85,247,.95); }

.azad-badge{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  font-size: 12px;
  font-weight: 900;
  color: var(--azad-muted);
}

/* Health grid */
.azad-health-grid{
  padding: 12px 14px 0;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.azad-health{
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  border-radius: var(--azad-radius-lg);
  padding: 12px;
  display:flex;
  flex-direction:column;
  gap: 10px;
  min-height: 86px;
  transition: transform var(--azad-transition), border-color var(--azad-transition);
}
.azad-health:hover{ transform: translateY(-1px); border-color: var(--azad-border-2); }

.azad-health-top{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}
.azad-health-label{
  font-size: 12px;
  font-weight: 900;
  color: var(--azad-muted);
}
.azad-health-val{
  font-size: 12px;
  font-weight: 900;
  color: var(--azad-text);
}
.azad-health-sub{
  display:flex;
  align-items:center;
  gap: 10px;
  color: var(--azad-muted-2);
  font-size: 12px;
  font-weight: 800;
}
.azad-health-sub i{ opacity: .9; }

.azad-health-warn{
  border-color: rgba(245,158,11,.30);
  background:
    radial-gradient(420px 180px at 10% 10%, rgba(245,158,11,.12), transparent 60%),
    var(--azad-surface);
}

/* Quick links */
.azad-quick{
  padding: 12px 14px 14px;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.azad-q{
  border: 1px solid var(--azad-border);
  background: linear-gradient(180deg, var(--azad-surface), var(--azad-card-2));
  border-radius: var(--azad-radius-lg);
  padding: 12px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  transition: transform var(--azad-transition), border-color var(--azad-transition), background var(--azad-transition);
}

.azad-q:hover{
  transform: translateY(-1px);
  border-color: var(--azad-border-2);
  background: linear-gradient(180deg, var(--azad-surface-2), var(--azad-card-2));
}

.azad-q > i:first-child{
  width: 42px;
  height: 42px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  border: 1px solid var(--azad-border);
  background: linear-gradient(135deg, rgba(99,102,241,.18), rgba(168,85,247,.12));
}

.azad-q-title{ font-weight: 950; color: var(--azad-text); font-size: 13px; }
.azad-q-sub{ font-weight: 800; color: var(--azad-muted); font-size: 12px; margin-top: 2px; }

.azad-q-go{
  opacity: .75;
  transition: transform var(--azad-transition), opacity var(--azad-transition);
}
.azad-q:hover .azad-q-go{ transform: translateX(2px); opacity: 1; }

/* Chart */
.azad-card-actions{
  display:flex;
  align-items:center;
  gap: 8px;
}

.azad-select{
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  color: var(--azad-text);
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 900;
  font-size: 12px;
  outline: none;
}

.azad-select:focus{
  box-shadow: var(--azad-glow);
  border-color: rgba(168,85,247,.45);
}

/* Correctif dropdown select en dark (AZ NEBULA) */
html[data-theme="dark"] .azad-select,
html[data-theme="dark"] select.azad-select{
  color-scheme: dark;
}

html[data-theme="dark"] .azad-select option,
html[data-theme="dark"] .azad-select optgroup{
  background: #0b1220;
  color: #e5e7eb;
}

.azad-chart{
  height: 320px;
  padding: 12px 14px 14px;
}

/* =========================
   ACTIVITY
   ========================= */
.azad-activity{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 12px;
}

.azad-activity .azad-card:first-child{ grid-column: span 8; }
.azad-activity .azad-card:last-child{ grid-column: span 4; }

.azad-tabs{
  display:flex;
  gap: 8px;
  flex-wrap: wrap;
}

.azad-tab{
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  color: var(--azad-muted);
  padding: 8px 10px;
  border-radius: 999px;
  font-weight: 950;
  font-size: 12px;
  cursor: pointer;
  transition: background var(--azad-transition), border-color var(--azad-transition), transform var(--azad-transition), box-shadow var(--azad-transition);
}

.azad-tab:hover{
  background: var(--azad-surface-2);
  border-color: var(--azad-border-2);
  transform: translateY(-1px);
}

.azad-tab.active{
  color: #fff;
  border-color: transparent;
  background: var(--azad-grad);
  box-shadow: 0 14px 40px rgba(99,102,241,.22);
}

.azad-tabpanel{ display: none; }
.azad-tabpanel.active{ display: block; }

.azad-table-head{
  padding: 12px 14px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  border-top: 1px solid var(--azad-border);
  border-bottom: 1px solid var(--azad-border);
  background: linear-gradient(180deg, rgba(0,0,0,.00), rgba(0,0,0,.04));
}

html[data-theme="light"] .azad-table-head{
  background: linear-gradient(180deg, rgba(255,255,255,.00), rgba(15,23,42,.04));
}

.azad-table-head span{
  font-weight: 950;
  font-size: 13px;
  color: var(--azad-text);
}

.azad-link{
  font-weight: 900;
  color: var(--azad-muted);
  font-size: 12px;
  display:inline-flex;
  align-items:center;
  gap: 8px;
  transition: color var(--azad-transition), transform var(--azad-transition);
}
.azad-link:hover{ color: var(--azad-text); transform: translateX(2px); }

/* list */
.azad-list{
  padding: 10px 14px 14px;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.azad-row{
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  border-radius: var(--azad-radius-lg);
  padding: 12px;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  transition: transform var(--azad-transition), border-color var(--azad-transition), background var(--azad-transition);
}

.azad-row:hover{
  transform: translateY(-1px);
  border-color: var(--azad-border-2);
  background: var(--azad-surface-2);
}

.azad-row-left{
  display:flex;
  align-items:center;
  gap: 12px;
  min-width: 0;
}

.azad-avatar{
  width: 38px;
  height: 38px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  font-weight: 950;
  border: 1px solid var(--azad-border);
  background: linear-gradient(135deg, rgba(99,102,241,.20), rgba(236,72,153,.14));
  color: var(--azad-text);
  flex: 0 0 auto;
}

.azad-avatar-warn{
  background: linear-gradient(135deg, rgba(245,158,11,.22), rgba(239,68,68,.12));
}

.azad-row-info{ min-width: 0; display:flex; flex-direction:column; gap: 2px; }
.azad-row-title{
  font-weight: 950;
  color: var(--azad-text);
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 56ch;
}
.azad-row-sub{
  font-weight: 800;
  color: var(--azad-muted);
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 56ch;
}

.azad-row-right{
  display:flex;
  align-items:center;
  gap: 12px;
}

.azad-amt{
  text-align: right;
  display:flex;
  flex-direction:column;
  gap: 2px;
}
.azad-amt-val{
  font-weight: 950;
  color: var(--azad-text);
  font-size: 13px;
}
.azad-amt-warn{ color: var(--azad-warn); }
.azad-amt-sub{
  font-weight: 800;
  color: var(--azad-muted-2);
  font-size: 12px;
}

.azad-badges{ display:flex; gap: 8px; align-items:center; }

.azad-badge-mode{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--azad-border);
  background: var(--azad-chip);
  font-weight: 950;
  font-size: 12px;
  color: var(--azad-text);
  display:inline-flex;
  align-items:center;
  gap: 8px;
}

.azad-badge-mode.especes{ box-shadow: inset 0 0 0 1px rgba(34,197,94,.18); }
.azad-badge-mode.cheque{  box-shadow: inset 0 0 0 1px rgba(99,102,241,.18); }
.azad-badge-mode.virement{box-shadow: inset 0 0 0 1px rgba(6,182,212,.18); }
.azad-badge-mode.carte{   box-shadow: inset 0 0 0 1px rgba(236,72,153,.18); }

.azad-actions-mini{
  display:flex;
  gap: 8px;
}

.azad-icbtn{
  width: 38px;
  height: 38px;
  border-radius: 14px;
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform var(--azad-transition), background var(--azad-transition), border-color var(--azad-transition), box-shadow var(--azad-transition);
}

.azad-icbtn:hover{
  transform: translateY(-1px);
  background: var(--azad-surface-2);
  border-color: var(--azad-border-2);
}
.azad-icbtn:focus-visible{ outline:none; box-shadow: var(--azad-glow); }

.azad-empty{
  padding: 22px 14px;
  border: 1px dashed var(--azad-border);
  border-radius: var(--azad-radius-lg);
  background: var(--azad-surface);
  display:flex;
  align-items:center;
  justify-content: center;
  gap: 10px;
  color: var(--azad-muted);
  font-weight: 900;
}

/* =========================
   PRESENCES MINI CARD
   ========================= */
.azad-pres-grid{
  padding: 12px 14px 10px;
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.azad-pres{
  border: 1px solid var(--azad-border);
  background: var(--azad-surface);
  border-radius: var(--azad-radius-lg);
  padding: 12px;
  display:flex;
  flex-direction:column;
  gap: 8px;
  min-height: 96px;
  transition: transform var(--azad-transition), border-color var(--azad-transition);
}
.azad-pres:hover{ transform: translateY(-1px); border-color: var(--azad-border-2); }

.azad-pres-top{
  font-weight: 950;
  font-size: 12px;
  display:flex;
  align-items:center;
  gap: 10px;
}

.azad-pres-top.ok{ color: var(--azad-ok); }
.azad-pres-top.bad{ color: var(--azad-bad); }
.azad-pres-top.warn{ color: var(--azad-warn); }
.azad-pres-top.soft{ color: rgba(168,85,247,.95); }

.azad-pres-val{
  font-weight: 1000;
  font-size: 22px;
  color: var(--azad-text);
}
.azad-pres-sub{
  font-weight: 900;
  font-size: 12px;
  color: var(--azad-muted);
}

.azad-pres-actions{
  padding: 0 14px 14px;
  display:flex;
  gap: 10px;
}
.azad-pres-actions .azad-btn{
  flex: 1 1 0;
  justify-content: center;
}

/* =========================
   RESPONSIVE
   ========================= */
@media (max-width: 1100px){
  .azad-kpi{ grid-column: span 6; }
  .azad-card{ grid-column: span 12; }
  .azad-activity .azad-card:first-child{ grid-column: span 12; }
  .azad-activity .azad-card:last-child{ grid-column: span 12; }
  .azad-hero{ grid-template-columns: 1fr; }
  .azad-hero-right{ align-items: flex-start; }
  .azad-actions{ justify-content: flex-start; }
}

@media (max-width: 680px){
  .azad{
    padding: 8px 6px 18px;
    gap: 12px;
  }

  .azad-kpi{ grid-column: span 12; }
  .azad-health-grid{ grid-template-columns: 1fr; }
  .azad-pres-grid{ grid-template-columns: 1fr; }

  .azad-row{
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }
  .azad-row-right{
    justify-content: space-between;
  }

  .azad-chart{ height: 260px; }
}

/* =========================
   PETIT FIX (si un "a" perdu dans ton template)
   ========================= */
.azad-hero-right a{ text-decoration: none; }
